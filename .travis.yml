os: osx
language: ruby

install:
  - brew update >/dev/null
  - brew tap osx-cross/avr
  - cd $(brew --repo)/Library/Taps/osx-cross/homebrew-avr
  - git checkout --detach
  - git fetch origin '+refs/heads/*:refs/heads/*'
  - git checkout $TRAVIS_BRANCH

jobs:
  include:

    - stage: avr-binutils
      script:
        - brew audit --strict avr-binutils.rb
        - brew install avr-binutils --verbose
        - brew test avr-binutils

    - stage: avr-gcc
      script:
        - brew audit --strict avr-gcc.rb
        - brew install avr-gcc --verbose
        - brew test avr-gcc --verbose

        # - brew audit --strict avr-gdb.rb
        # - brew audit --strict avr-gcc@4.rb
        # - brew audit --strict avr-gcc@5.rb
        # - brew audit --strict avr-gcc@6.rb
        # - brew audit --strict avr-gcc@7.rb
        # - brew audit --strict avarice.rb
        # - brew audit --strict simavr.rb
