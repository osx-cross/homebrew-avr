os: osx
language: objective-c

before_install:
  - brew update >/dev/null

install:
  - brew tap osx-cross/avr
  - cd $(brew --repo)/Library/Taps/osx-cross/homebrew-avr
  - git checkout --detach
  - git fetch origin '+refs/heads/*:refs/heads/*'
  - git checkout $TRAVIS_BRANCH

script:
  - brew audit --strict avr-binutils
  - travis_wait 120 brew install avr-binutils
  - brew test avr-binutils

  - brew audit --strict avr-gcc
  - travis_wait 120 avr-gcc
  - brew test avr-gcc --verbose

  - brew audit --strict avr-gcc@4
  - travis_wait 120 avr-gcc@4
  - brew test avr-gcc@4 --verbose

  - brew audit --strict avr-gcc@5
  - travis_wait 120 avr-gcc@5
  - brew test avr-gcc@5 --verbose

  - brew audit --strict avr-gcc@6
  - travis_wait 120 avr-gcc@6
  - brew test avr-gcc@6 --verbose

  - brew audit --strict avr-gcc@7
  - travis_wait 120 avr-gcc@7
  - brew test avr-gcc@7 --verbose

  # - brew audit --strict avr-gdb
  # - brew audit --strict avarice
  # - brew audit --strict simavr
